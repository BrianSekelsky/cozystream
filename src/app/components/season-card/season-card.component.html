<button (click)="selected.emit(season)" class="group relative flex flex-col text-left focus:outline-none w-full">
  <div [class]="'relative overflow-hidden w-full aspect-[2/3] ' + posterCornerClass()">
    @if (posterUrl) {
      <img loading="lazy" [src]="posterUrl" [alt]="'Season ' + season" class="w-full h-full object-cover" />
    } @else {
      <div class="w-full h-full bg-white/10"></div>
    }

    <!-- Gradient overlay at bottom -->
    <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent px-3 py-3">
      <p class="text-sm font-semibold text-white">Season {{ season }}</p>
      <p class="text-xs text-white/60">
        {{ episodeCount }} {{ episodeCount === 1 ? 'episode' : 'episodes' }}
      </p>
    </div>

    <!-- Edit poster button -->
    <div class="absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200">
      <button (click)="handleEditPoster($event)"
        title="Change poster"
        class="bg-black/60 hover:bg-black/80 backdrop-blur-sm rounded-full p-1.5 transition-colors">
        <svg class="w-4 h-4" fill="none" stroke="white" stroke-width="2" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" />
        </svg>
      </button>
    </div>

    <!-- Hover overlay -->
    <div class="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-200 pointer-events-none"></div>
  </div>
</button>
